{
  "swagger": "2.0",
  "info": {
    "title": "proto/APIs.proto",
    "version": "version not set"
  },
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/load/createlinks": {
      "post": {
        "summary": "Creates a list of upload links to place dataset entities in object storage\nand adds corresponding metadata objects",
        "operationId": "LoadService_CreateLoadLinkSet",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/UploadLinks"
            }
          },
          "default": {
            "description": "An unexpected error response",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CreateLoadLinkSetRequest"
            }
          }
        ],
        "tags": [
          "LoadService"
        ]
      }
    },
    "/v1/load/finish": {
      "post": {
        "summary": "Finishes a dataset load operation\nDatasets that finished loading can not add more entities",
        "operationId": "LoadService_FinishLoad",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/Empty"
            }
          },
          "default": {
            "description": "An unexpected error response",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ID"
            }
          }
        ],
        "tags": [
          "LoadService"
        ]
      }
    },
    "/v1/load/init": {
      "post": {
        "summary": "Initiates a dataset\nReturns: The id of the dataset",
        "operationId": "LoadService_InitLoad",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ID"
            }
          },
          "default": {
            "description": "An unexpected error response",
            "schema": {
              "$ref": "#/definitions/runtimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/InitLoadDataset"
            }
          }
        ],
        "tags": [
          "LoadService"
        ]
      }
    }
  },
  "definitions": {
    "CreateLoadLinkSetRequest": {
      "type": "object",
      "properties": {
        "DatasetID": {
          "type": "string"
        },
        "Metadata": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DatasetEntityMetaData"
          }
        }
      }
    },
    "DatasetEntityMetaData": {
      "type": "object",
      "properties": {
        "Filename": {
          "type": "string"
        },
        "Filetype": {
          "type": "string"
        },
        "Name": {
          "type": "string"
        },
        "Version": {
          "type": "string"
        },
        "Origin": {
          "$ref": "#/definitions/Origin"
        },
        "ContentLen": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "Empty": {
      "type": "object",
      "title": "Empty empty return object for functions that return nothing"
    },
    "ID": {
      "type": "object",
      "properties": {
        "ID": {
          "type": "string"
        }
      }
    },
    "InitLoadDataset": {
      "type": "object",
      "properties": {
        "DatasetName": {
          "type": "string"
        },
        "Datatype": {
          "type": "string"
        }
      }
    },
    "Origin": {
      "type": "object",
      "properties": {
        "Link": {
          "type": "string"
        },
        "Bucket": {
          "type": "string"
        },
        "Key": {
          "type": "string"
        },
        "OriginType": {
          "$ref": "#/definitions/OriginOriginTypeEnum"
        }
      }
    },
    "OriginOriginTypeEnum": {
      "type": "string",
      "enum": [
        "ObjectStorage",
        "OriginLink"
      ],
      "default": "ObjectStorage"
    },
    "UploadLink": {
      "type": "object",
      "properties": {
        "ID": {
          "type": "string"
        },
        "Link": {
          "type": "string"
        }
      }
    },
    "UploadLinks": {
      "type": "object",
      "properties": {
        "Links": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/UploadLink"
          }
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "type_url": {
          "type": "string"
        },
        "value": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "runtimeError": {
      "type": "object",
      "properties": {
        "error": {
          "type": "string"
        },
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  }
}
